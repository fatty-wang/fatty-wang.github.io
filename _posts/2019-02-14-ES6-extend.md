---
layout: post
title: "ES6中的扩展"
date: 2019-02-14
author: "WangX"
catalog: true
header-style: text
tags:
    - JavaScript
    - ES6
---

## 字符串中的扩展

#### Unicode相关的增加
#### 字符串的Iterator接口
* ES6 为字符串添加了遍历器接口，使得字符串可以被for...of循环遍历。除了遍历字符串，这个遍历器最大的优点是可以识别大于0xFFFF的码点，传统的for循环无法识别这样的码点。
#### 新增字符串方法
* ES6之前，JavaScript 只有indexOf方法，可以用来确定一个字符串是否包含在另一个字符串中。
* ES6新增方法：
1. includes()：返回布尔值，表示是否找到了参数字符串。
2. startsWith()：返回布尔值，表示参数字符串是否在原字符串的头部。
3. endsWith()：返回布尔值，表示参数字符串是否在原字符串的尾部。
4. repeat()：repeat方法返回一个新字符串，表示将原字符串重复n次。
5. matchAll()：返回一个正则表达式在当前字符串的所有匹配
6. String.raw()：往往用来充当模板字符串的处理函数，返回一个斜杠都被转义（即斜杠前面再加一个斜杠）的字符串。
* ES2017 引入了字符串补全长度的功能。如果某个字符串不够指定长度，会在头部或尾部补全。padStart()用于头部补全，padEnd()用于尾部补全。

#### 模板字符串
* 模板字符串（template string）是增强版的字符串，用反引号（`）标识。它可以当作普通字符串使用，也可以用来定义多行字符串，或者在字符串中嵌入变量。    

```javascript
// 普通字符串
`In JavaScript '\n' is a line-feed.`

// 多行字符串
`In JavaScript this is
 not legal.`

console.log(`string text line 1
string text line 2`);

// 字符串中嵌入变量
let name = "Bob", time = "today";
`Hello ${name}, how are you ${time}?`
```
* 模板字符串中嵌入变量，需要将变量名写在${}之中。大括号内部可以放入任意的 JavaScript 表达式，可以进行运算，以及引用对象属性。如果大括号中的值不是字符串，将按照一般的规则转为字符串。比如，大括号中是一个对象，将默认调用对象的toString方法。

#### 标签模板
* 模板字符串可以紧跟在一个函数名后面，该函数将被条用来处理这个模板字符串。这称为“标签模板”功能(tagged template)。
* “标签”指的就是函数，紧跟在后面的模板字符串就是它的参数。

## 正则表达式的扩展

## 数值的扩展
* ES6 提供了二进制和八进制数值的新的写法，分别用前缀0b（或0B）和0o（或0O）表示。
* ES6 在Number对象上，新提供了Number.isFinite()和Number.isNaN()两个方法，分别用来判断数值是否为有限的，是否为NaN。与传统的全局方法isFinite()和isNaN()的区别在于，传统方法先调用Number()将非数值的值转为数值，再进行判断，而这两个新方法只对数值有效，Number.isFinite()对于非数值一律返回false, Number.isNaN()只有对于NaN才返回true，非NaN一律返回false。
* ES6 将全局方法parseInt()和parseFloat()，移植到Number对象上面，行为完全保持不变。
* Number.isInteger()用来判断一个数值是否为整数。
* ES6 在Number对象上面，新增一个极小的常量Number.EPSILON。
* 根据规格，它表示 1 与大于 1 的最小浮点数之间的差。对于 64 位浮点数来说，大于 1 的最小浮点数相当于二进制的1.00..001，小数点后面有连续 51 个零。这个值减去 1 之后，就等于 2 的 -52 次方。
* Number.EPSILON实际上是 JavaScript 能够表示的最小精度。
* JavaScript 能够准确表示的整数范围在-2^53到2^53之间（不含两个端点），超过这个范围，无法精确表示这个值。ES6 引入了Number.MAX_SAFE_INTEGER和Number.MIN_SAFE_INTEGER这两个常量，用来表示这个范围的上下限。
* Number.isSafeInteger()则是用来判断一个整数是否落在这个范围之内。
#### Math对象的扩展
* ES6 在 Math 对象上新增了 17 个与数学相关的方法。所有这些方法都是静态方法，只能在 Math 对象上调用。

#### 指数预算法
* ES2016 新增了一个指数运算符（**）。
* 这个运算符的一个特点是右结合，而不是常见的左结合。多个指数运算符连用时，是从最右边开始计算的。   

```javascript
// 相当于 2 ** (3 ** 2)
2 ** 3 ** 2
// 512
```

## 函数的扩展
* 